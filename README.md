[![Build](https://github.com/front-matter/content-registration/actions/workflows/build.yml/badge.svg)](https://github.com/front-matter/commonmeta-py/actions/workflows/test_action.yaml)
![GitHub](https://img.shields.io/github/license/front-matter/content-registration?logo=MIT)

# Crossref Content Registration Action

This GitHub Action uses the [Crossref Depositor API](https://www.crossref.org/documentation/register-maintain-records/direct-deposit-xml/https-post/) to register content with Crossref. With the help of the [commonmeta-ruby](https://rubygems.org/gems/commonmeta-ruby) the action fetches the DOI and required metadata from the URL provided, and registers a Crossref DOI.

### Requirements

* A [Crossref member account](https://www.crossref.org/membership/) to register content
* A URL pointing at content to be registered with Crossref
* The desired DOI embedded as `canonical_url` in the content at the target URL
* Metadata embedded in the content at the target URL either as schema.org JSON-LD and/or HTML meta tags

### Required inputs

* `url` - The URL of the content that will be registered.
* `crossref-depositor` - Name of the organization registering the DOIs.
* `crossref-email` - e-mail address to which batch success and/or error messages are sent.
* `crossref-registrant` - The organization responsible for the information being registered.
* `crossref-username` - Crossref member username
* `crossref-password` - Crossref member password

The `url` input should be set via an input form ([workflow_dispatch](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#workflow_dispatch)) or webhook ([repository_dispatch](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#repository_dispatch)). The other inputs are best configured using [encrypted secrets](https://docs.github.com/en/actions/security-guides/encrypted-secrets).

### Limitations

* The Crossref XML generated by the `commonmeta-ruby` gem is well-tested for the `posted-content` Crossref resource type, but may not (yet) fully support other content types.

### License

**Crossref Content Registration Action** is released under the [MIT License](https://github.com/front-matter/content-registration/blob/main/LICENSE).

